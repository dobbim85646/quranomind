import os

# ๐ง ูุฐุง ุงูุณูุฑุจุช ูุจุญุซ ุนู ุชูุณูุฑุงุช ูู ูููุงุช ูุตูุฉ ููุฌูุฏุฉ ูู ูุฌูุฏ tafasir_txt
# ุญูุซ ูุญุชูู ูู ููู ุนูู ุชูุณูุฑ ุณูุฑุฉ ูุนููุฉ ุจุตูุบุฉ ูุต ุนุงุฏู

# ๐ค ูุทูุจ ูู ุงููุณุชุฎุฏู ุฅุฏุฎุงู ูููุฉ ุฃู ุฌููุฉ ููุจุญุซ ุนููุง
search_term = input("๐ ุฃุฏุฎู ุงุณู ุงูุณูุฑุฉ ุฃู ุฌุฒุก ูู ุงูุขูุฉ: ").strip()

# ๐ ุงุณู ุงููุฌูุฏ ุงูุฐู ูุญุชูู ุนูู ูููุงุช ุงูุชูุณูุฑ ุงููุตู
directory = "tafasir_txt"

# ๐๏ธ ูุงุฆูุฉ ูุชุฎุฒูู ุงููุชุงุฆุฌ ุงูุชู ุณูุนุซุฑ ุนูููุง ุฃุซูุงุก ุงูุจุญุซ
results = []

# ๐ ููุฑ ุนูู ูู ููู ุฏุงุฎู ูุฌูุฏ tafasir_txt
for filename in os.listdir(directory):
    # โ ูุชุฃูุฏ ุฃู ุงูููู ูู ููุน .txt ููุท
    if filename.endswith(".txt"):
        filepath = os.path.join(directory, filename)
        try:
            # ๐ ููุชุญ ุงูููู ูุน ุฏุนู ุงูุชุฑููุฒ ุงูุนุฑุจู
            with open(filepath, "r", encoding="utf-8") as f:
                # ๐งพ ููุฑุฃ ุงูููู ุณุทุฑูุง ุณุทุฑูุง ูุน ุฑูู ูู ุณุทุฑ
                for line_num, line in enumerate(f, 1):
                    # ๐ ุฅุฐุง ูุฌุฏูุง ุงููููุฉ ุงูุชู ุจุญุซ ุนููุง ุงููุณุชุฎุฏู
                    if search_term in line:
                        results.append({
                            "file": filename,       # ุงุณู ุงูููู
                            "line": line.strip(),   # ุงูุณุทุฑ ููุณู ุจุฏูู ูุฑุงุบุงุช
                            "line_num": line_num    # ุฑูู ุงูุณุทุฑ
                        })
        except Exception as e:
            print(f"โ๏ธ ุฎุทุฃ ุฃุซูุงุก ูุชุญ ุงูููู {filename}: {e}")

# ๐จ๏ธ ูุนุฑุถ ุงููุชุงุฆุฌ ุงูุชู ูุฌุฏูุงูุง
print("\n๐งฌ ูุชุงุฆุฌ ุงูุจุญุซ:")
print("----------------------------------------")

# โ ุฅุฐุง ููุฌุฏุช ูุชุงุฆุฌ ูุทุจุนูุง
if results:
    for res in results:
        print(f"๐ ุงูููู: {res['file']}")
        print(f"๐ ุงูุณุทุฑ {res['line_num']}: {res['line']}\n")
else:
    print("โ ูู ูุชู ุงูุนุซูุฑ ุนูู ุชูุณูุฑ ูุทุงุจู.")
